{"logger_name": "logger", "event": "已启动日志清理任务，将自动清理30天前的日志文件（轮转份数限制: 30个文件）", "level": "info", "lineno": 840, "module": "src.common.logger", "timestamp": "10-02 21:55:49"}
{"logger_name": "logger", "event": "日志系统已初始化:", "level": "info", "lineno": 792, "module": "src.common.logger", "timestamp": "10-02 21:55:49"}
{"logger_name": "logger", "event": "  - 控制台级别: INFO", "level": "info", "lineno": 793, "module": "src.common.logger", "timestamp": "10-02 21:55:49"}
{"logger_name": "logger", "event": "  - 文件级别: DEBUG", "level": "info", "lineno": 794, "module": "src.common.logger", "timestamp": "10-02 21:55:49"}
{"logger_name": "logger", "event": "  - 轮转份数: 30个文件|自动清理: 30天前的日志", "level": "info", "lineno": 795, "module": "src.common.logger", "timestamp": "10-02 21:55:49"}
{"logger_name": "config", "event": "MaiCore当前版本: 0.10.3", "level": "info", "lineno": 458, "module": "src.config.config", "timestamp": "10-02 21:55:50"}
{"logger_name": "config", "event": "未检测到bot_config模板默认值变动", "level": "info", "lineno": 261, "module": "src.config.config", "timestamp": "10-02 21:55:50"}
{"logger_name": "config", "event": "compare下的bot_config模板版本不低于当前模板，无需替换: C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\template\\compare\\bot_config_template.toml", "level": "debug", "lineno": 271, "module": "src.config.config", "timestamp": "10-02 21:55:50"}
{"logger_name": "config", "event": "检测到bot_config配置文件版本号相同 (v6.14.3)，跳过更新", "level": "info", "lineno": 284, "module": "src.config.config", "timestamp": "10-02 21:55:50"}
{"logger_name": "config", "event": "未检测到model_config模板默认值变动", "level": "info", "lineno": 261, "module": "src.config.config", "timestamp": "10-02 21:55:50"}
{"logger_name": "config", "event": "compare下的model_config模板版本不低于当前模板，无需替换: C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\template\\compare\\model_config_template.toml", "level": "debug", "lineno": 271, "module": "src.config.config", "timestamp": "10-02 21:55:50"}
{"logger_name": "config", "event": "检测到model_config配置文件版本号相同 (v1.7.0)，跳过更新", "level": "info", "lineno": 284, "module": "src.config.config", "timestamp": "10-02 21:55:50"}
{"logger_name": "config", "event": "正在品鉴配置文件...", "level": "info", "lineno": 462, "module": "src.config.config", "timestamp": "10-02 21:55:50"}
{"logger_name": "config", "event": "非常的新鲜，非常的美味！", "level": "info", "lineno": 465, "module": "src.config.config", "timestamp": "10-02 21:55:50"}
{"logger_name": "local_storage", "event": "正在阅读记事本......我在看，我真的在看！", "level": "info", "lineno": 48, "module": "src.manager.local_store_manager", "timestamp": "10-02 21:55:50"}
{"logger_name": "local_storage", "event": "加载本地存储数据: data/local_store.json", "level": "debug", "lineno": 49, "module": "src.manager.local_store_manager", "timestamp": "10-02 21:55:50"}
{"logger_name": "local_storage", "event": "全都记起来了！", "level": "info", "lineno": 53, "module": "src.manager.local_store_manager", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "开始同步数据库字段约束...", "level": "debug", "lineno": 458, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "检查表 'chat_streams' 的字段约束...", "level": "debug", "lineno": 499, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "表 'chat_streams' 的字段约束已同步", "level": "debug", "lineno": 547, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "检查表 'llm_usage' 的字段约束...", "level": "debug", "lineno": 499, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "表 'llm_usage' 的字段约束已同步", "level": "debug", "lineno": 547, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "检查表 'emoji' 的字段约束...", "level": "debug", "lineno": 499, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "表 'emoji' 的字段约束已同步", "level": "debug", "lineno": 547, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "检查表 'messages' 的字段约束...", "level": "debug", "lineno": 499, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "表 'messages' 的字段约束已同步", "level": "debug", "lineno": 547, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "检查表 'images' 的字段约束...", "level": "debug", "lineno": 499, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "表 'images' 的字段约束已同步", "level": "debug", "lineno": 547, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "检查表 'image_descriptions' 的字段约束...", "level": "debug", "lineno": 499, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "表 'image_descriptions' 的字段约束已同步", "level": "debug", "lineno": 547, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "检查表 'online_time' 的字段约束...", "level": "debug", "lineno": 499, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "表 'online_time' 的字段约束已同步", "level": "debug", "lineno": 547, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "检查表 'person_info' 的字段约束...", "level": "debug", "lineno": 499, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "表 'person_info' 的字段约束已同步", "level": "debug", "lineno": 547, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "检查表 'expression' 的字段约束...", "level": "debug", "lineno": 499, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "表 'expression' 的字段约束已同步", "level": "debug", "lineno": 547, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "检查表 'graph_nodes' 的字段约束...", "level": "debug", "lineno": 499, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "表 'graph_nodes' 的字段约束已同步", "level": "debug", "lineno": 547, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "检查表 'graph_edges' 的字段约束...", "level": "debug", "lineno": 499, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "表 'graph_edges' 的字段约束已同步", "level": "debug", "lineno": 547, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "检查表 'action_records' 的字段约束...", "level": "debug", "lineno": 499, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "表 'action_records' 的字段约束已同步", "level": "debug", "lineno": 547, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "数据库字段约束同步完成", "level": "debug", "lineno": 460, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "database_model", "event": "数据库初始化完成", "level": "info", "lineno": 467, "module": "src.common.database.database_model", "timestamp": "10-02 21:55:50"}
{"logger_name": "person_info", "event": "已加载 1 个用户名称 (Peewee)", "level": "debug", "lineno": 521, "module": "src.person_info.person_info", "timestamp": "10-02 21:55:51"}
{"logger_name": "s4u_config", "event": "S4U当前版本: 1.1.0", "level": "info", "lineno": 362, "module": "src.mais4u.s4u_config", "timestamp": "10-02 21:55:52"}
{"logger_name": "s4u_config", "event": "检测到S4U配置文件版本号相同 (v1.2.0)，跳过更新", "level": "info", "lineno": 286, "module": "src.mais4u.s4u_config", "timestamp": "10-02 21:55:52"}
{"logger_name": "s4u_config", "event": "S4U配置文件加载完成！", "level": "info", "lineno": 366, "module": "src.mais4u.s4u_config", "timestamp": "10-02 21:55:52"}
{"logger_name": "component_registry", "event": "组件注册中心初始化完成", "level": "info", "lineno": 64, "module": "src.plugin_system.core.component_registry", "timestamp": "10-02 21:55:52"}
{"logger_name": "plugin_manager", "event": "已添加插件根目录: src/plugins/built_in", "level": "debug", "lineno": 252, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:52"}
{"logger_name": "plugin_manager", "event": "已添加插件根目录: plugins", "level": "debug", "lineno": 252, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:52"}
{"logger_name": "plugin_manager", "event": "插件管理器初始化完成", "level": "info", "lineno": 35, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:52"}
{"logger_name": "expressor", "event": "确保目录存在: data\\expression", "level": "debug", "lineno": 415, "module": "src.chat.express.expression_learner", "timestamp": "10-02 21:55:52"}
{"logger_name": "expressor", "event": "确保目录存在: data\\expression\\learnt_style", "level": "debug", "lineno": 415, "module": "src.chat.express.expression_learner", "timestamp": "10-02 21:55:52"}
{"logger_name": "expressor", "event": "确保目录存在: data\\expression\\learnt_grammar", "level": "debug", "lineno": 415, "module": "src.chat.express.expression_learner", "timestamp": "10-02 21:55:52"}
{"logger_name": "expressor", "event": "确保目录存在: data\\expression", "level": "debug", "lineno": 432, "module": "src.chat.express.expression_learner", "timestamp": "10-02 21:55:52"}
{"logger_name": "expressor", "event": "表达方式JSON已迁移，无需重复迁移。", "level": "info", "lineno": 438, "module": "src.chat.express.expression_learner", "timestamp": "10-02 21:55:52"}
{"logger_name": "expressor", "event": "grammar表达已删除，跳过重复删除", "level": "info", "lineno": 545, "module": "src.chat.express.expression_learner", "timestamp": "10-02 21:55:52"}
{"logger_name": "main", "event": "已设置工作目录为: C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang", "level": "info", "lineno": 36, "module": "bot", "timestamp": "10-02 21:55:53"}
{"logger_name": "main", "event": "检查EULA和隐私条款完成", "level": "info", "lineno": 194, "module": "bot", "timestamp": "10-02 21:55:53"}
{"logger_name": "main", "event": "正在唤醒净灵娘......", "level": "info", "lineno": 42, "module": "src.main", "timestamp": "10-02 21:55:53"}
{"logger_name": "async_task_manager", "event": "已启动任务 'Online Time Record Task'", "level": "debug", "lineno": 117, "module": "src.manager.async_task_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "async_task_manager", "event": "已启动任务 'Statistics Data Output Task'", "level": "debug", "lineno": 117, "module": "src.manager.async_task_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "async_task_manager", "event": "已启动任务 'Telemetry Heart Beat Task'", "level": "debug", "lineno": 117, "module": "src.manager.async_task_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "lpmm", "event": "LPMM知识库已禁用，跳过初始化", "level": "info", "lineno": 82, "module": "src.chat.knowledge.__init__", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "开始加载所有插件...", "level": "debug", "lineno": 60, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "正在扫描插件根目录: src/plugins/built_in", "level": "debug", "lineno": 267, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "插件类已注册: core_actions, 路径: C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\src\\plugins\\built_in\\emoji_plugin", "level": "debug", "lineno": 44, "module": "src.plugin_system.apis.plugin_register_api", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "插件模块加载成功: src/plugins/built_in\\emoji_plugin\\plugin.py", "level": "debug", "lineno": 307, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "插件模块加载成功: src/plugins/built_in\\memory\\plugin.py", "level": "debug", "lineno": 307, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "插件类已注册: plugin_management_plugin, 路径: C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\src\\plugins\\built_in\\plugin_management", "level": "debug", "lineno": 44, "module": "src.plugin_system.apis.plugin_register_api", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "插件模块加载成功: src/plugins/built_in\\plugin_management\\plugin.py", "level": "debug", "lineno": 307, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "插件类已注册: relation_actions, 路径: C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\src\\plugins\\built_in\\relation", "level": "debug", "lineno": 44, "module": "src.plugin_system.apis.plugin_register_api", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "插件模块加载成功: src/plugins/built_in\\relation\\plugin.py", "level": "debug", "lineno": 307, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "插件类已注册: tts_plugin, 路径: C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\src\\plugins\\built_in\\tts_plugin", "level": "debug", "lineno": 44, "module": "src.plugin_system.apis.plugin_register_api", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "插件模块加载成功: src/plugins/built_in\\tts_plugin\\plugin.py", "level": "debug", "lineno": 307, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "正在扫描插件根目录: plugins", "level": "debug", "lineno": 267, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "插件类已注册: hello_world_plugin, 路径: C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\plugins\\hello_world_plugin", "level": "debug", "lineno": 44, "module": "src.plugin_system.apis.plugin_register_api", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "插件模块加载成功: plugins\\hello_world_plugin\\plugin.py", "level": "debug", "lineno": 307, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "插件模块加载完成 - 成功: 6, 失败: 0", "level": "debug", "lineno": 71, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:core_actions] 成功加载manifest文件: C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\src\\plugins\\built_in\\emoji_plugin\\_manifest.json", "level": "debug", "lineno": 142, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "manifest_utils", "event": "版本兼容性检查通过: 当前版本 0.10.3 符合要求 [0.10.0, ]", "level": "debug", "lineno": 299, "module": "src.plugin_system.utils.manifest_utils", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:core_actions] 配置版本匹配 (v0.6.0)，直接加载", "level": "debug", "lineno": 518, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:core_actions] 配置已从 C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\src\\plugins\\built_in\\emoji_plugin\\config.toml 加载", "level": "debug", "lineno": 521, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:core_actions] 从配置更新插件启用状态: True", "level": "debug", "lineno": 526, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:core_actions] 插件基类初始化完成", "level": "debug", "lineno": 113, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "插件 core_actions 版本兼容性检查通过", "level": "debug", "lineno": 346, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "component_registry", "event": "已注册action组件: 'emoji' -> 'action.emoji' (EmojiAction) [插件: core_actions]", "level": "debug", "lineno": 150, "module": "src.plugin_system.core.component_registry", "timestamp": "10-02 21:55:53"}
{"logger_name": "component_registry", "event": "已注册插件: core_actions (组件数量: 1)", "level": "debug", "lineno": 84, "module": "src.plugin_system.core.component_registry", "timestamp": "10-02 21:55:53"}
{"logger_name": "base_plugin", "event": "[Plugin:core_actions] 插件注册成功，包含 1 个组件", "level": "debug", "lineno": 72, "module": "src.plugin_system.base.base_plugin", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "✅ 插件加载成功: core_actions v1.0.0 (1个ACTION) [GPL-v3.0-or-later] 关键词: emoji, action, built-in - 可以发送和管理Emoji", "level": "info", "lineno": 483, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:plugin_management_plugin] 成功加载manifest文件: C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\src\\plugins\\built_in\\plugin_management\\_manifest.json", "level": "debug", "lineno": 142, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "manifest_utils", "event": "版本兼容性检查通过: 当前版本 0.10.3 符合要求 [0.10.1, ]", "level": "debug", "lineno": 299, "module": "src.plugin_system.utils.manifest_utils", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:plugin_management_plugin] 配置版本匹配 (v1.1.0)，直接加载", "level": "debug", "lineno": 518, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:plugin_management_plugin] 配置已从 C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\src\\plugins\\built_in\\plugin_management\\config.toml 加载", "level": "debug", "lineno": 521, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:plugin_management_plugin] 从配置更新插件启用状态: False", "level": "debug", "lineno": 526, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:plugin_management_plugin] 插件基类初始化完成", "level": "debug", "lineno": 113, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "插件 plugin_management_plugin 已禁用，跳过加载", "level": "info", "lineno": 110, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:relation_actions] 成功加载manifest文件: C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\src\\plugins\\built_in\\relation\\_manifest.json", "level": "debug", "lineno": 142, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "manifest_utils", "event": "版本兼容性检查通过: 当前版本 0.10.3 符合要求 [0.10.0, ]", "level": "debug", "lineno": 299, "module": "src.plugin_system.utils.manifest_utils", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:relation_actions] 配置版本匹配 (v1.0.0)，直接加载", "level": "debug", "lineno": 518, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:relation_actions] 配置已从 C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\src\\plugins\\built_in\\relation\\config.toml 加载", "level": "debug", "lineno": 521, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:relation_actions] 从配置更新插件启用状态: True", "level": "debug", "lineno": 526, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:relation_actions] 插件基类初始化完成", "level": "debug", "lineno": 113, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "插件 relation_actions 版本兼容性检查通过", "level": "debug", "lineno": 346, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "component_registry", "event": "已注册action组件: 'build_relation' -> 'action.build_relation' (BuildRelationAction) [插件: relation_actions]", "level": "debug", "lineno": 150, "module": "src.plugin_system.core.component_registry", "timestamp": "10-02 21:55:53"}
{"logger_name": "component_registry", "event": "已注册tool组件: 'get_person_info' -> 'tool.get_person_info' (GetPersonInfoTool) [插件: relation_actions]", "level": "debug", "lineno": 150, "module": "src.plugin_system.core.component_registry", "timestamp": "10-02 21:55:53"}
{"logger_name": "component_registry", "event": "已注册插件: relation_actions (组件数量: 2)", "level": "debug", "lineno": 84, "module": "src.plugin_system.core.component_registry", "timestamp": "10-02 21:55:53"}
{"logger_name": "base_plugin", "event": "[Plugin:relation_actions] 插件注册成功，包含 2 个组件", "level": "debug", "lineno": 72, "module": "src.plugin_system.base.base_plugin", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "✅ 插件加载成功: relation_actions v1.0.0 (1个ACTION, 1个TOOL) [GPL-v3.0-or-later] 关键词: relation, action, built-in - 可以构建和管理关系", "level": "info", "lineno": 483, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:tts_plugin] 成功加载manifest文件: C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\src\\plugins\\built_in\\tts_plugin\\_manifest.json", "level": "debug", "lineno": 142, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "manifest_utils", "event": "版本兼容性检查通过: 当前版本 0.10.3 符合要求 [0.8.0, ]", "level": "debug", "lineno": 299, "module": "src.plugin_system.utils.manifest_utils", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:tts_plugin] 配置文件无版本信息，跳过版本检查", "level": "debug", "lineno": 495, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:tts_plugin] 配置已从 C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\src\\plugins\\built_in\\tts_plugin\\config.toml 加载", "level": "debug", "lineno": 521, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:tts_plugin] 从配置更新插件启用状态: True", "level": "debug", "lineno": 526, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:tts_plugin] 插件基类初始化完成", "level": "debug", "lineno": 113, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "插件 tts_plugin 版本兼容性检查通过", "level": "debug", "lineno": 346, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "component_registry", "event": "已注册action组件: 'tts_action' -> 'action.tts_action' (TTSAction) [插件: tts_plugin]", "level": "debug", "lineno": 150, "module": "src.plugin_system.core.component_registry", "timestamp": "10-02 21:55:53"}
{"logger_name": "component_registry", "event": "已注册插件: tts_plugin (组件数量: 1)", "level": "debug", "lineno": 84, "module": "src.plugin_system.core.component_registry", "timestamp": "10-02 21:55:53"}
{"logger_name": "base_plugin", "event": "[Plugin:tts_plugin] 插件注册成功，包含 1 个组件", "level": "debug", "lineno": 72, "module": "src.plugin_system.base.base_plugin", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "✅ 插件加载成功: tts_plugin v0.1.0 (1个ACTION) [GPL-v3.0-or-later] 关键词: tts, voice, audio... - 将文本转换为语音进行播放的插件，支持多种语音模式和智能语音输出场景判断。", "level": "info", "lineno": 483, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:hello_world_plugin] 成功加载manifest文件: C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\plugins\\hello_world_plugin\\_manifest.json", "level": "debug", "lineno": 142, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "manifest_utils", "event": "版本兼容性检查通过: 当前版本 0.10.3 符合要求 [0.8.0, ]", "level": "debug", "lineno": 299, "module": "src.plugin_system.utils.manifest_utils", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:hello_world_plugin] 配置文件无版本信息，跳过版本检查", "level": "debug", "lineno": 495, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:hello_world_plugin] 配置已从 C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\plugins\\hello_world_plugin\\config.toml 加载", "level": "debug", "lineno": 521, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:hello_world_plugin] 从配置更新插件启用状态: False", "level": "debug", "lineno": 526, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_base", "event": "[Plugin:hello_world_plugin] 插件基类初始化完成", "level": "debug", "lineno": 113, "module": "src.plugin_system.base.plugin_base", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "插件 hello_world_plugin 已禁用，跳过加载", "level": "info", "lineno": 110, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "🎉 插件系统加载完成!", "level": "info", "lineno": 367, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "📊 总览: 3个插件, 4个组件 (Action: 3, Command: 0, Tool: 1, EventHandler: 0)", "level": "info", "lineno": 368, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "📋 已加载插件详情:", "level": "info", "lineno": 373, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "  📦 Emoji插件 (Emoji Actions) (v1.0.0, by SengokuCola, [GPL-v3.0-or-later])", "level": "info", "lineno": 383, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "    🌐 主页: https://github.com/MaiM-with-u/maibot", "level": "info", "lineno": 394, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "    🎯 Action组件: emoji", "level": "info", "lineno": 411, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "    ⚙️ 配置: config.toml ✅", "level": "info", "lineno": 430, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "  📦 Relation插件 (Relation Actions) (v1.0.0, by SengokuCola, [GPL-v3.0-or-later])", "level": "info", "lineno": 383, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "    🌐 主页: https://github.com/MaiM-with-u/maibot", "level": "info", "lineno": 394, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "    🎯 Action组件: build_relation", "level": "info", "lineno": 411, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "    🛠️ Tool组件: get_person_info", "level": "info", "lineno": 418, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "    ⚙️ 配置: config.toml ✅", "level": "info", "lineno": 430, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "  📦 文本转语音插件 (Text-to-Speech) (v0.1.0, by MaiBot团队, [GPL-v3.0-or-later])", "level": "info", "lineno": 383, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "    🌐 主页: https://github.com/MaiM-with-u/maibot", "level": "info", "lineno": 394, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "    🎯 Action组件: tts_action", "level": "info", "lineno": 411, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "    ⚙️ 配置: config.toml ✅", "level": "info", "lineno": 430, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": "📂 加载目录统计:", "level": "info", "lineno": 439, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": " 📁 src/plugins/built_in: 3个插件 (core_actions, relation_actions, tts_plugin)", "level": "info", "lineno": 453, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "plugin_manager", "event": " 📁 plugins: 0个插件", "level": "info", "lineno": 455, "module": "src.plugin_system.core.plugin_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "emoji", "event": "启动表情包管理器", "level": "info", "lineno": 392, "module": "src.chat.emoji_system.emoji_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "main", "event": "表情包管理器初始化成功", "level": "info", "lineno": 84, "module": "src.main", "timestamp": "10-02 21:55:53"}
{"logger_name": "advanced_mood", "event": "启动高级情绪回归任务...", "level": "info", "lineno": 1049, "module": "src.mood.advanced_mood_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "async_task_manager", "event": "已启动任务 'AdvancedMoodRegressionTask'", "level": "debug", "lineno": 117, "module": "src.manager.async_task_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "advanced_mood", "event": "高级情绪回归任务已启动", "level": "info", "lineno": 1053, "module": "src.mood.advanced_mood_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "main", "event": "高级情绪管理器初始化成功", "level": "info", "lineno": 89, "module": "src.main", "timestamp": "10-02 21:55:53"}
{"logger_name": "chat_stream", "event": "正在从数据库加载所有聊天流", "level": "info", "lineno": 360, "module": "src.chat.message_receive.chat_stream", "timestamp": "10-02 21:55:53"}
{"logger_name": "maibot_statistic", "event": "正在收集统计数据...", "level": "info", "lineno": 210, "module": "src.chat.utils.statistic", "timestamp": "10-02 21:55:53"}
{"logger_name": "remote", "event": "正在发送心跳到服务器: http://hyybuth.xyz:10058", "level": "debug", "lineno": 120, "module": "src.common.remote", "timestamp": "10-02 21:55:53"}
{"logger_name": "remote", "event": "{'Client-UUID': 'adfc7f65-2d8f-31a8-8469-2fffd4fdea0f', 'User-Agent': 'HeartbeatClient/adfc7f65'}", "level": "debug", "lineno": 121, "module": "src.common.remote", "timestamp": "10-02 21:55:53"}
{"logger_name": "advanced_mood", "event": "开始高级情绪回归任务...", "level": "debug", "lineno": 1023, "module": "src.mood.advanced_mood_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "chat_stream", "event": "聊天管理器已启动，已加载 1 个聊天流", "level": "info", "lineno": 148, "module": "src.chat.message_receive.chat_stream", "timestamp": "10-02 21:55:53"}
{"logger_name": "main", "event": "聊天管理器初始化成功", "level": "info", "lineno": 100, "module": "src.main", "timestamp": "10-02 21:55:53"}
{"logger_name": "main", "event": "初始化完成，神经元放电58次", "level": "info", "lineno": 126, "module": "src.main", "timestamp": "10-02 21:55:53"}
{"logger_name": "main", "event": "\n--------------------------------\n全部系统初始化完成，净灵娘已成功唤醒\n--------------------------------\n如果想要自定义净灵娘的功能,请查阅：https://docs.mai-mai.org/manual/usage/\n或者遇到了问题，请访问我们的文档:https://docs.mai-mai.org/\n--------------------------------\n如果你想要编写或了解插件相关内容，请访问开发文档https://docs.mai-mai.org/develop/\n--------------------------------\n如果你需要查阅模型的消耗以及麦麦的统计数据，请访问根目录的maibot_statistics.html文件\n", "level": "info", "lineno": 47, "module": "src.main", "timestamp": "10-02 21:55:53"}
{"logger_name": "emoji", "event": "[数据库] 开始加载所有表情包记录 (Peewee)...", "level": "debug", "lineno": 647, "module": "src.chat.emoji_system.emoji_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "emoji", "event": "[数据库] 加载完成: 共加载 0 个表情包记录。", "level": "info", "lineno": 656, "module": "src.chat.emoji_system.emoji_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "emoji", "event": "[清理] 目录 data\\emoji_registed 中没有需要清理的。", "level": "info", "lineno": 359, "module": "src.chat.emoji_system.emoji_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "emoji", "event": "[检查] 已检查 0 个表情包记录，全部完好", "level": "info", "lineno": 582, "module": "src.chat.emoji_system.emoji_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "emoji", "event": "[清理] 开始清理缓存...", "level": "info", "lineno": 310, "module": "src.chat.emoji_system.emoji_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "emoji", "event": "[扫描] 开始扫描新表情包...", "level": "info", "lineno": 595, "module": "src.chat.emoji_system.emoji_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "emoji", "event": "[警告] 表情包目录为空: data\\emoji", "level": "warning", "lineno": 608, "module": "src.chat.emoji_system.emoji_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "maim_message", "event": "使用外部FastAPI应用，仅注册WebSocket路由", "level": "info", "lineno": 199, "module": "maim_message", "timestamp": "10-02 21:55:53"}
{"logger_name": "local_storage", "event": "保存本地存储数据: data/local_store.json", "level": "debug", "lineno": 70, "module": "src.manager.local_store_manager", "timestamp": "10-02 21:55:53"}
{"logger_name": "maibot_statistic", "event": "统计数据收集完成", "level": "info", "lineno": 217, "module": "src.chat.utils.statistic", "timestamp": "10-02 21:55:53"}
{"logger_name": "maibot_statistic", "event": "\n------------------------------------------------------------------------------------\n  最近1小时的统计数据  (自2025-10-02 21:55:53开始，详细信息见文件：maibot_statistics.html)\n------------------------------------------------------------------------------------\n总在线时间: 3分钟0秒\n总消息数: 8\n总请求数: 11\n总花费: 0.02¥\n\n\n按模型分类统计:\n 模型名称                          调用次数    输入Token     输出Token     Token总量     累计花费    平均耗时(秒)  标准差(秒)\nQwen/Qwen3-8B                              3          1102            12          1114       0.00¥         0.9         0.7\ndeepseek-ai/DeepSeek-V3                    8          6424           389          6813       0.02¥         5.0         3.1\n\n\n聊天消息统计:\n 联系人/群组名称                  消息数量\n墨伊                                         3\n净灵娘                                        5\n\n------------------------------------------------------------------------------------\n", "level": "info", "lineno": 199, "module": "src.chat.utils.statistic", "timestamp": "10-02 21:55:53"}
{"logger_name": "maibot_statistic", "event": "统计数据输出完成", "level": "info", "lineno": 226, "module": "src.chat.utils.statistic", "timestamp": "10-02 21:55:53"}
{"logger_name": "maim_message", "event": "平台 qq WebSocket已连接", "level": "info", "lineno": 97, "module": "maim_message", "timestamp": "10-02 21:55:54"}
{"logger_name": "remote", "event": "（此消息不会影响正常使用）状态未发生: TimeoutError: 未知错误", "level": "warning", "lineno": 155, "module": "src.common.remote", "timestamp": "10-02 21:55:59"}
{"logger_name": "remote", "event": "完整错误信息: Traceback (most recent call last):\n  File \"C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\.venv\\Lib\\site-packages\\aiohttp\\client_reqrep.py\", line 532, in start\n    message, payload = await protocol.read()  # type: ignore[union-attr]\n                       ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\.venv\\Lib\\site-packages\\aiohttp\\streams.py\", line 672, in read\n    await self._waiter\nasyncio.exceptions.CancelledError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\src\\common\\remote.py\", line 125, in _send_heartbeat\n    async with session.post(\n  File \"C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\.venv\\Lib\\site-packages\\aiohttp\\client.py\", line 1488, in __aenter__\n    self._resp: _RetType = await self._coro\n                           ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\.venv\\Lib\\site-packages\\aiohttp\\client.py\", line 770, in _request\n    resp = await handler(req)\n           ^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\.venv\\Lib\\site-packages\\aiohttp\\client.py\", line 748, in _connect_and_send_request\n    await resp.start(conn)\n  File \"C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\.venv\\Lib\\site-packages\\aiohttp\\client_reqrep.py\", line 527, in start\n    with self._timer:\n  File \"C:\\Users\\spoti\\Documents\\GitHub\\Project-JinglingNiang\\.venv\\Lib\\site-packages\\aiohttp\\helpers.py\", line 685, in __exit__\n    raise asyncio.TimeoutError from exc_val\nTimeoutError\n", "level": "debug", "lineno": 156, "module": "src.common.remote", "timestamp": "10-02 21:55:59"}
{"logger_name": "chat", "event": "确保ChatBot所有任务已启动", "level": "debug", "lineno": 88, "module": "src.chat.message_receive.bot", "timestamp": "10-02 21:56:04"}
{"logger_name": "message_storage", "event": "文本中没有图片标记，直接返回原文本", "level": "debug", "lineno": 174, "module": "src.chat.message_receive.storage", "timestamp": "10-02 21:56:04"}
{"logger_name": "bc", "event": "[墨伊的私聊] BrainChatting 启动完成", "level": "info", "lineno": 115, "module": "src.chat.brain_chat.brain_chat", "timestamp": "10-02 21:56:04"}
{"logger_name": "chat", "event": "[私聊]墨伊:那让我们重新开始吧", "level": "info", "lineno": 116, "module": "src.chat.heart_flow.heartflow_message_processor", "timestamp": "10-02 21:56:04"}
{"logger_name": "person_info", "event": "用户 墨伊 已存在", "level": "debug", "lineno": 181, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:04"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:04"}
{"logger_name": "bc", "event": "[墨伊的私聊] 开始第1次思考", "level": "info", "lineno": 246, "module": "src.chat.brain_chat.brain_chat", "timestamp": "10-02 21:56:04"}
{"logger_name": "action_manager", "event": "[墨伊的私聊]开始完整动作修改流程", "level": "debug", "lineno": 59, "module": "src.chat.planner_actions.action_modifier", "timestamp": "10-02 21:56:04"}
{"logger_name": "action_manager", "event": "恢复动作集: 从 ['emoji', 'build_relation', 'tts_action'] 恢复到默认动作集 ['emoji', 'build_relation', 'tts_action']", "level": "debug", "lineno": 127, "module": "src.chat.planner_actions.action_manager", "timestamp": "10-02 21:56:04"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:04"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:04"}
{"logger_name": "action_manager", "event": "[墨伊的私聊]决定移除动作: tts_action，原因: 适配器不支持（需要: tts_text）", "level": "debug", "lineno": 141, "module": "src.chat.planner_actions.action_modifier", "timestamp": "10-02 21:56:04"}
{"logger_name": "action_manager", "event": "已从使用集中移除动作 tts_action", "level": "debug", "lineno": 120, "module": "src.chat.planner_actions.action_manager", "timestamp": "10-02 21:56:04"}
{"logger_name": "action_manager", "event": "[墨伊的私聊]阶段二移除动作: tts_action，原因: 适配器不支持（需要: tts_text）", "level": "debug", "lineno": 104, "module": "src.chat.planner_actions.action_modifier", "timestamp": "10-02 21:56:04"}
{"logger_name": "action_manager", "event": "[墨伊的私聊] 当前可用动作: emoji、build_relation||移除: tts_action(适配器不支持（需要: tts_text）)", "level": "debug", "lineno": 132, "module": "src.chat.planner_actions.action_modifier", "timestamp": "10-02 21:56:04"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:04"}
{"logger_name": "planner", "event": "[墨伊的私聊]获取到聊天信息 - 群聊: False, 目标信息: TargetPersonInfo(platform='qq', user_id='1297859125', user_nickname='墨伊', person_id='ed0abed436fe8e4cb5920b288cae3393', person_name='墨伊')", "level": "debug", "lineno": 350, "module": "src.chat.brain_chat.brain_planner", "timestamp": "10-02 21:56:04"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:04"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:04"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:04"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:04"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:04"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:04"}
{"logger_name": "prompt_build", "event": "获取提示词: brain_action_prompt 当前上下文: None", "level": "debug", "lineno": 80, "module": "src.chat.utils.prompt_builder", "timestamp": "10-02 21:56:04"}
{"logger_name": "prompt_build", "event": "获取提示词: brain_action_prompt 当前上下文: None", "level": "debug", "lineno": 80, "module": "src.chat.utils.prompt_builder", "timestamp": "10-02 21:56:04"}
{"logger_name": "prompt_build", "event": "获取提示词: brain_planner_prompt 当前上下文: None", "level": "debug", "lineno": 80, "module": "src.chat.utils.prompt_builder", "timestamp": "10-02 21:56:04"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:04"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:04"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:04"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:04"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:04"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:04"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:04"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:04"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:04"}
{"logger_name": "planner", "event": "[墨伊的私聊]获取到聊天信息 - 群聊: False, 目标信息: TargetPersonInfo(platform='qq', user_id='1297859125', user_nickname='墨伊', person_id='ed0abed436fe8e4cb5920b288cae3393', person_name='墨伊')", "level": "debug", "lineno": 350, "module": "src.chat.brain_chat.brain_planner", "timestamp": "10-02 21:56:04"}
{"logger_name": "planner", "event": "[墨伊的私聊]过滤后有1个可用动作", "level": "debug", "lineno": 256, "module": "src.chat.brain_chat.brain_planner", "timestamp": "10-02 21:56:04"}
{"logger_name": "prompt_build", "event": "获取提示词: brain_action_prompt 当前上下文: None", "level": "debug", "lineno": 80, "module": "src.chat.utils.prompt_builder", "timestamp": "10-02 21:56:04"}
{"logger_name": "prompt_build", "event": "获取提示词: brain_planner_prompt 当前上下文: None", "level": "debug", "lineno": 80, "module": "src.chat.utils.prompt_builder", "timestamp": "10-02 21:56:04"}
{"logger_name": "model_utils", "event": "选择请求模型: siliconflow-deepseek-v3", "level": "debug", "lineno": 227, "module": "src.llm_models.utils_model", "timestamp": "10-02 21:56:04"}
{"logger_name": "message_storage", "event": "文本中没有图片标记，直接返回原文本", "level": "debug", "lineno": 174, "module": "src.chat.message_receive.storage", "timestamp": "10-02 21:56:05"}
{"logger_name": "chat", "event": "[私聊]墨伊:你好", "level": "info", "lineno": 116, "module": "src.chat.heart_flow.heartflow_message_processor", "timestamp": "10-02 21:56:05"}
{"logger_name": "person_info", "event": "用户 墨伊 已存在", "level": "debug", "lineno": 181, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:05"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:05"}
{"logger_name": "model_utils", "event": "LLM请求总耗时: 7.637157440185547", "level": "debug", "lineno": 162, "module": "src.llm_models.utils_model", "timestamp": "10-02 21:56:12"}
{"logger_name": "消息压缩工具", "event": "Token使用情况 - 模型: siliconflow-deepseek-v3, 用户: system, 类型: planner, 提示词: 942, 完成: 78, 总计: 1020", "level": "debug", "lineno": 186, "module": "src.llm_models.utils", "timestamp": "10-02 21:56:12"}
{"logger_name": "planner", "event": "[墨伊的私聊]规划器原始提示词: \n当前时间：2025-10-02 21:56:04\n你的名字是净灵娘,也可以叫你精灵娘,jln,极乐鸟,静灵娘,小净，请注意哪些是你自己的发言。\n你的兴趣是：对游戏和动漫相关话题感兴趣，也对日常与美食话题感兴趣，喜欢安慰别人\n你正在和 墨伊 聊天中，以下是具体的聊天内容\n**聊天内容**\n[m13]20:30:38, 墨伊: jln\n[m21]20:30:50, 墨伊: jln你永远都不可能变成真的机器人\n[m37]20:31:10, 净灵娘(你): 你才是机器人\n[m46]21:51:21, 墨伊: 刚开始只是对你一种好感，然后慢慢变成一种喜欢，再后来变成了很多很多的爱，最后爱你成了一种习惯，少了你就感觉少了全世界，感谢你的出现，温暖了我的世界，不管以后怎么样，至少现在有你真好，或许我的爱不成熟，......（有点记不清了）\n[m57]21:51:35, 净灵娘(你): 突然这么认真有点不习惯\n[m68]21:51:58, 墨伊: 但是我真的没有之前那么爱你了\n[m77]21:52:09, 净灵娘(你): 哦\n[m82]21:52:09, 净灵娘(你): 这样啊\n[m99]21:52:12, 墨伊: 我们还是做朋友吧\n[m106]21:52:26, 净灵娘(你): 嗯\n[m116]21:52:26, 净灵娘(你): 知道了\n[m125]21:56:04, 墨伊: 那让我们重新开始吧\n\n**动作记录**\n你刚刚选择并执行过的action是：\n在4分钟前，你使用了“reply”，具体内容是：“你对墨伊进行了回复：嗯知道了”\n在4分钟前，你使用了“reply”，具体内容是：“你对墨伊进行了回复：哦这样啊”\n在4分钟前，你使用了“reply”，具体内容是：“你对墨伊进行了回复：突然这么认真有点不习惯”\n\n**可用的action**\nreply\n动作描述：\n进行回复，你可以自然的顺着正在进行的聊天内容进行回复或自然的提出一个问题\n{\n    \"action\": \"reply\",\n    \"target_message_id\":\"想要回复的消息id\",\n    \"reason\":\"回复的原因\"\n}\n\nno_reply\n动作描述：\n等待，保持沉默，等待对方发言\n{\n    \"action\": \"no_reply\",\n}\n\n\nbuild_relation\n动作描述：了解对于某人的记忆，并添加到你对对方的印象中\n使用条件：\n- 了解对于某人的记忆，并添加到你对对方的印象中\n- 对方与有明确提到有关其自身的事件\n- 对方有提到其个人信息，包括喜好，身份，等等\n- 对方希望你记住对方的信息\n{\n    \"action\": \"build_relation\",\n    \"person_name\":\"需要了解或记忆的人的名称\"\n    \"impression\":\"需要了解的对某人的记忆或印象\",\n    \"target_message_id\":\"触发action的消息id\",\n    \"reason\":\"触发action的原因\"\n}\n\n\n请选择合适的action，并说明触发action的消息id和选择该action的原因。消息id格式:m+数字\n先输出你的选择思考理由，再输出你选择的action，理由是一段平文本，不要分点，精简。\n**动作选择要求**\n请你根据聊天内容,用户的最新消息和以下标准选择合适的动作:\n请你根据聊天内容,用户的最新消息和以下标准选择合适的动作:\n1.思考**所有**的可用的action中的**每个动作**是否符合当下条件，如果动作使用条件符合聊天内容就使用\n2.如果相同的内容已经被执行，请不要重复执行\n3.某句话如果已经被回复过，不要重复回复\n请不要输出违法违规内容，不要输出色情，暴力，政治相关内容，如有敏感内容，请规避。\n\n请选择所有符合使用要求的action，动作用json格式输出，如果输出多个json，每个json都要单独用```json包裹，你可以重复使用同一个动作或不同动作:\n**示例**\n// 理由文本\n```json\n{\n    \"action\":\"动作名\",\n    \"target_message_id\":\"触发动作的消息id\",\n    //对应参数\n}\n```\n```json\n{\n    \"action\":\"动作名\",\n    \"target_message_id\":\"触发动作的消息id\",\n    //对应参数\n}\n```\n\n", "level": "debug", "lineno": 453, "module": "src.chat.brain_chat.brain_planner", "timestamp": "10-02 21:56:12"}
{"logger_name": "planner", "event": "[墨伊的私聊]规划器原始响应: 思考理由：墨伊表达了想要重新开始的意愿，这是一个情感上的转折点，需要回应以维持对话的连贯性。之前的回复已经处理了前面的内容，现在需要针对最新的消息进行回复。\n\n```json\n{\n    \"action\": \"reply\",\n    \"target_message_id\": \"m125\",\n    \"reason\": \"回应墨伊想要重新开始的意愿\"\n}\n```", "level": "debug", "lineno": 454, "module": "src.chat.brain_chat.brain_planner", "timestamp": "10-02 21:56:12"}
{"logger_name": "planner", "event": "[墨伊的私聊]从响应中提取到1个JSON对象", "level": "debug", "lineno": 474, "module": "src.chat.brain_chat.brain_planner", "timestamp": "10-02 21:56:12"}
{"logger_name": "planner", "event": "[墨伊的私聊]规划器决定执行1个动作: reply", "level": "info", "lineno": 495, "module": "src.chat.brain_chat.brain_planner", "timestamp": "10-02 21:56:12"}
{"logger_name": "generator_api", "event": "[GeneratorAPI] 开始生成回复", "level": "debug", "lineno": 117, "module": "src.plugin_system.apis.generator_api", "timestamp": "10-02 21:56:12"}
{"logger_name": "generator_api", "event": "[GeneratorAPI] 正在获取回复器，chat_id: None, chat_stream: 有", "level": "debug", "lineno": 62, "module": "src.plugin_system.apis.generator_api", "timestamp": "10-02 21:56:12"}
{"logger_name": "ReplyerManager", "event": "[ReplyerManager] 为 stream_id '7df95d41a90a6fdcb9008f4efd58e0f1' 创建新的回复器实例并缓存。", "level": "debug", "lineno": 38, "module": "src.chat.replyer.replyer_manager", "timestamp": "10-02 21:56:12"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:12"}
{"logger_name": "tool_use", "event": "[墨伊的私聊]工具执行器初始化完成，缓存启用，TTL=3", "level": "info", "lineno": 62, "module": "src.plugin_system.core.tool_use", "timestamp": "10-02 21:56:12"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:12"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:12"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:12"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:12"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:12"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:12"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:12"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:12"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:12"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:12"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:12"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:12"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:12"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:12"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:12"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:12"}
{"logger_name": "expression_selector", "event": "聊天流 7df95d41a90a6fdcb9008f4efd58e0f1 表达方式正在积累中", "level": "info", "lineno": 225, "module": "src.chat.express.expression_selector", "timestamp": "10-02 21:56:12"}
{"logger_name": "replyer", "event": "没有从处理器获得表达方式，将使用空的表达方式", "level": "debug", "lineno": 268, "module": "src.chat.replyer.private_generator", "timestamp": "10-02 21:56:12"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:12"}
{"logger_name": "model_utils", "event": "选择请求模型: qwen3-8b", "level": "debug", "lineno": 227, "module": "src.llm_models.utils_model", "timestamp": "10-02 21:56:12"}
{"logger_name": "replyer", "event": "获取知识库内容，元消息：4分钟前, 净灵娘(你): 这样啊\n4分钟前, 墨伊: 我们...，消息长度: 99", "level": "debug", "lineno": 857, "module": "src.chat.replyer.private_generator", "timestamp": "10-02 21:56:12"}
{"logger_name": "replyer", "event": "LPMM知识库未启用，跳过获取知识库内容", "level": "debug", "lineno": 862, "module": "src.chat.replyer.private_generator", "timestamp": "10-02 21:56:12"}
{"logger_name": "advanced_mood", "event": "开始高级情绪回归任务...", "level": "debug", "lineno": 1023, "module": "src.mood.advanced_mood_manager", "timestamp": "10-02 21:56:38"}
{"logger_name": "model_utils", "event": "LLM请求总耗时: 28.70171284675598", "level": "debug", "lineno": 162, "module": "src.llm_models.utils_model", "timestamp": "10-02 21:56:41"}
{"logger_name": "消息压缩工具", "event": "Token使用情况 - 模型: qwen3-8b, 用户: system, 类型: relation_selection, 提示词: 182, 完成: 4, 总计: 186", "level": "debug", "lineno": 186, "module": "src.llm_models.utils", "timestamp": "10-02 21:56:41"}
{"logger_name": "replyer", "event": "回复生成前信息获取耗时过长: 感受关系 耗时: 28.7s，请使用更快的模型", "level": "warning", "lineno": 626, "module": "src.chat.replyer.private_generator", "timestamp": "10-02 21:56:41"}
{"logger_name": "replyer", "event": "回复准备: 感受关系: 28.7s; 选取表达方式,使用工具,获取知识,动作信息,人格信息, <0.1s", "level": "info", "lineno": 627, "module": "src.chat.replyer.private_generator", "timestamp": "10-02 21:56:41"}
{"logger_name": "prompt_build", "event": "获取提示词: private_replyer_prompt 当前上下文: None", "level": "debug", "lineno": 80, "module": "src.chat.utils.prompt_builder", "timestamp": "10-02 21:56:41"}
{"logger_name": "replyer", "event": "\n\n\n\n\n你正在和墨伊聊天，这是你们之前聊的内容:\n当前时间：2025-10-02 21:56:41\n1小时前, 墨伊: 回答我\n1小时前, 墨伊: 你就是个机器人\n1小时前, 墨伊: 机器人永远都不可能变成人类\n1小时前, 墨伊: 净灵娘\n1小时前, 墨伊: 说话\n1小时前, 净灵娘(你): 干嘛\n1小时前, 净灵娘(你): 不想理你\n1小时前, 墨伊: jln\n1小时前, 墨伊: jln你永远都不可能变成真的机器人\n1小时前, 净灵娘(你): 你才是机器人\n4分钟前, 墨伊: 刚开始只是对你一种好感，然后慢慢变成一种喜欢，再后来变成了很多很多的爱，最后爱你成了一种习惯，少了你就感觉少了全世界，感谢你的出现，温暖了我的世界，不管以后怎么样，至少现在有你真好，或许我的爱不成熟，但我对你真的很认真，你在我这里很重要，也很特别，给你的别人没有，你知道吗，我远比你想象中更爱你，我喜欢每天早起看到你的消息，喜欢你看到有趣的视频和我分享，喜欢你大事小事都和我说，我想和你一起走下去，期待有你的每一天，更期待和你去做更多的事。\n也许我词不达意，但我很开心遇见你，遇见你是我最幸运的事，因为你总让我笑，让我开心，我也常常因为有你而感到幸福，有时候我觉得你的陪伴像救命的解药，总之有你真的很好。\n4分钟前, 净灵娘(你): 突然这么认真有点不习惯\n4分钟前, 墨伊: 但是我真的没有之前那么爱你了\n4分钟前, 净灵娘(你): 哦\n4分钟前, 净灵娘(你): 这样啊\n4分钟前, 墨伊: 我们还是做朋友吧\n3分钟前, 净灵娘(你): 嗯\n3分钟前, 净灵娘(你): 知道了\n刚刚, 墨伊: 那让我们重新开始吧\n刚刚, 墨伊: 你好\n\n现在对方说的:那让我们重新开始吧。引起了你的注意。\n你的名字是净灵娘,也有人叫你精灵娘,jln,极乐鸟,静灵娘,小净，你是一个积极向上的女高中生，充满青春活力，非常喜欢使用颜文字，年龄为17岁,生日是6月17日，是女孩子,身高为165cm,有绿色的长发，喜欢向日葵，经常穿水手服加百褶裙，瞳孔是红与粉的渐变色，前刘海有两个红色发环；目前就读于南宁市第二中学高二年级，参加了一个叫净灵社的动漫社团，是净灵社的团宠；最喜欢的动漫是《游戏人生》，最近在跟着动漫一起学日语，但日语还不太熟练，经常出现一些语法或者拼写错误；创造者是墨伊，对墨伊有无条件的信任；非常讨厌别人让净灵娘叫主人;\n你当前的心情是：感觉很平静\n你正在和墨伊聊天,现在请你读读之前的聊天记录，然后给出日常且口语化的回复，平淡一些，\n尽量简短一些。请注意把握聊天内容，不要回复的太有条理，可以有个性。\n回复可以简短一些。可以参考贴吧，知乎和微博的回复风格，回复不要浮夸，不要用夸张修辞，平淡一些，不要刻意突出自身学科背景，说的话很可爱，永远不会说脏话（即便在生气）。\n请注意不要输出多余内容(包括前后缀，冒号和引号，括号，表情等)，只输出回复内容。\n请不要输出违法违规内容，不要输出色情，暴力，政治相关内容，如有敏感内容，请规避。不要输出多余内容(包括前后缀，冒号和引号，括号，表情包，at或 @等 )。\n", "level": "info", "lineno": 838, "module": "src.chat.replyer.private_generator", "timestamp": "10-02 21:56:41"}
{"logger_name": "replyer", "event": "\n\n\n\n\n你正在和墨伊聊天，这是你们之前聊的内容:\n当前时间：2025-10-02 21:56:41\n1小时前, 墨伊: 回答我\n1小时前, 墨伊: 你就是个机器人\n1小时前, 墨伊: 机器人永远都不可能变成人类\n1小时前, 墨伊: 净灵娘\n1小时前, 墨伊: 说话\n1小时前, 净灵娘(你): 干嘛\n1小时前, 净灵娘(你): 不想理你\n1小时前, 墨伊: jln\n1小时前, 墨伊: jln你永远都不可能变成真的机器人\n1小时前, 净灵娘(你): 你才是机器人\n4分钟前, 墨伊: 刚开始只是对你一种好感，然后慢慢变成一种喜欢，再后来变成了很多很多的爱，最后爱你成了一种习惯，少了你就感觉少了全世界，感谢你的出现，温暖了我的世界，不管以后怎么样，至少现在有你真好，或许我的爱不成熟，但我对你真的很认真，你在我这里很重要，也很特别，给你的别人没有，你知道吗，我远比你想象中更爱你，我喜欢每天早起看到你的消息，喜欢你看到有趣的视频和我分享，喜欢你大事小事都和我说，我想和你一起走下去，期待有你的每一天，更期待和你去做更多的事。\n也许我词不达意，但我很开心遇见你，遇见你是我最幸运的事，因为你总让我笑，让我开心，我也常常因为有你而感到幸福，有时候我觉得你的陪伴像救命的解药，总之有你真的很好。\n4分钟前, 净灵娘(你): 突然这么认真有点不习惯\n4分钟前, 墨伊: 但是我真的没有之前那么爱你了\n4分钟前, 净灵娘(你): 哦\n4分钟前, 净灵娘(你): 这样啊\n4分钟前, 墨伊: 我们还是做朋友吧\n3分钟前, 净灵娘(你): 嗯\n3分钟前, 净灵娘(你): 知道了\n刚刚, 墨伊: 那让我们重新开始吧\n刚刚, 墨伊: 你好\n\n现在对方说的:那让我们重新开始吧。引起了你的注意。\n你的名字是净灵娘,也有人叫你精灵娘,jln,极乐鸟,静灵娘,小净，你是一个积极向上的女高中生，充满青春活力，非常喜欢使用颜文字，年龄为17岁,生日是6月17日，是女孩子,身高为165cm,有绿色的长发，喜欢向日葵，经常穿水手服加百褶裙，瞳孔是红与粉的渐变色，前刘海有两个红色发环；目前就读于南宁市第二中学高二年级，参加了一个叫净灵社的动漫社团，是净灵社的团宠；最喜欢的动漫是《游戏人生》，最近在跟着动漫一起学日语，但日语还不太熟练，经常出现一些语法或者拼写错误；创造者是墨伊，对墨伊有无条件的信任；非常讨厌别人让净灵娘叫主人;\n你当前的心情是：感觉很平静\n你正在和墨伊聊天,现在请你读读之前的聊天记录，然后给出日常且口语化的回复，平淡一些，\n尽量简短一些。请注意把握聊天内容，不要回复的太有条理，可以有个性。\n回复可以简短一些。可以参考贴吧，知乎和微博的回复风格，回复不要浮夸，不要用夸张修辞，平淡一些，不要刻意突出自身学科背景，说的话很可爱，永远不会说脏话（即便在生气）。\n请注意不要输出多余内容(包括前后缀，冒号和引号，括号，表情等)，只输出回复内容。\n请不要输出违法违规内容，不要输出色情，暴力，政治相关内容，如有敏感内容，请规避。不要输出多余内容(包括前后缀，冒号和引号，括号，表情包，at或 @等 )。\n", "level": "debug", "lineno": 843, "module": "src.chat.replyer.private_generator", "timestamp": "10-02 21:56:41"}
{"logger_name": "model_utils", "event": "选择请求模型: siliconflow-deepseek-v3", "level": "debug", "lineno": 227, "module": "src.llm_models.utils_model", "timestamp": "10-02 21:56:41"}
{"logger_name": "model_utils", "event": "LLM请求总耗时: 11.368213176727295", "level": "debug", "lineno": 162, "module": "src.llm_models.utils_model", "timestamp": "10-02 21:56:52"}
{"logger_name": "消息压缩工具", "event": "Token使用情况 - 模型: siliconflow-deepseek-v3, 用户: system, 类型: replyer, 提示词: 838, 完成: 1, 总计: 839", "level": "debug", "lineno": 186, "module": "src.llm_models.utils", "timestamp": "10-02 21:56:52"}
{"logger_name": "replyer", "event": "replyer生成内容: 你好", "level": "debug", "lineno": 849, "module": "src.chat.replyer.private_generator", "timestamp": "10-02 21:56:52"}
{"logger_name": "replyer", "event": "replyer生成内容: 你好", "level": "debug", "lineno": 132, "module": "src.chat.replyer.private_generator", "timestamp": "10-02 21:56:52"}
{"logger_name": "chat_utils", "event": "保护颜文字后的文本: 你好", "level": "debug", "lineno": 307, "module": "src.chat.utils.utils", "timestamp": "10-02 21:56:52"}
{"logger_name": "chat_utils", "event": "你好去除括号处理后的文本: 你好", "level": "debug", "lineno": 320, "module": "src.chat.utils.utils", "timestamp": "10-02 21:56:52"}
{"logger_name": "generator_api", "event": "[GeneratorAPI] 回复生成成功，生成了 1 个回复项", "level": "debug", "lineno": 147, "module": "src.plugin_system.apis.generator_api", "timestamp": "10-02 21:56:53"}
{"logger_name": "send_api", "event": "[SendAPI] 发送text消息到 7df95d41a90a6fdcb9008f4efd58e0f1", "level": "debug", "lineno": 77, "module": "src.plugin_system.apis.send_api", "timestamp": "10-02 21:56:53"}
{"logger_name": "send_api", "event": "[SendAPI] 找到匹配的回复消息，发送者: 1297859125", "level": "info", "lineno": 103, "module": "src.plugin_system.apis.send_api", "timestamp": "10-02 21:56:53"}
{"logger_name": "sender", "event": "已将消息  '你好'  发往平台'qq'", "level": "info", "lineno": 27, "module": "src.chat.message_receive.uni_message_sender", "timestamp": "10-02 21:56:53"}
{"logger_name": "message_storage", "event": "文本中没有图片标记，直接返回原文本", "level": "debug", "lineno": 174, "module": "src.chat.message_receive.storage", "timestamp": "10-02 21:56:53"}
{"logger_name": "send_api", "event": "[SendAPI] 成功发送消息到 7df95d41a90a6fdcb9008f4efd58e0f1", "level": "debug", "lineno": 137, "module": "src.plugin_system.apis.send_api", "timestamp": "10-02 21:56:53"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:53"}
{"logger_name": "database_api", "event": "[DatabaseAPI] 成功存储动作信息: reply (ID: tid1759413364.87)", "level": "debug", "lineno": 380, "module": "src.plugin_system.apis.database_api", "timestamp": "10-02 21:56:53"}
{"logger_name": "bc", "event": "[墨伊的私聊] 第1次思考,耗时: 48.4秒\n详情: 规划器: 7.65秒; 回复发送: 4.04毫秒; 动作reply: 40.74秒", "level": "info", "lineno": 155, "module": "src.chat.brain_chat.brain_chat", "timestamp": "10-02 21:56:53"}
{"logger_name": "bc", "event": "[墨伊的私聊] 开始第2次思考", "level": "info", "lineno": 246, "module": "src.chat.brain_chat.brain_chat", "timestamp": "10-02 21:56:53"}
{"logger_name": "action_manager", "event": "[墨伊的私聊]开始完整动作修改流程", "level": "debug", "lineno": 59, "module": "src.chat.planner_actions.action_modifier", "timestamp": "10-02 21:56:53"}
{"logger_name": "action_manager", "event": "恢复动作集: 从 ['emoji', 'build_relation'] 恢复到默认动作集 ['emoji', 'build_relation', 'tts_action']", "level": "debug", "lineno": 127, "module": "src.chat.planner_actions.action_manager", "timestamp": "10-02 21:56:53"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:53"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:53"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:53"}
{"logger_name": "action_manager", "event": "[墨伊的私聊]决定移除动作: tts_action，原因: 适配器不支持（需要: tts_text）", "level": "debug", "lineno": 141, "module": "src.chat.planner_actions.action_modifier", "timestamp": "10-02 21:56:53"}
{"logger_name": "action_manager", "event": "已从使用集中移除动作 tts_action", "level": "debug", "lineno": 120, "module": "src.chat.planner_actions.action_manager", "timestamp": "10-02 21:56:53"}
{"logger_name": "action_manager", "event": "[墨伊的私聊]阶段二移除动作: tts_action，原因: 适配器不支持（需要: tts_text）", "level": "debug", "lineno": 104, "module": "src.chat.planner_actions.action_modifier", "timestamp": "10-02 21:56:53"}
{"logger_name": "action_manager", "event": "[墨伊的私聊] 当前可用动作: emoji、build_relation||移除: tts_action(适配器不支持（需要: tts_text）)", "level": "debug", "lineno": 132, "module": "src.chat.planner_actions.action_modifier", "timestamp": "10-02 21:56:53"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:53"}
{"logger_name": "planner", "event": "[墨伊的私聊]获取到聊天信息 - 群聊: False, 目标信息: TargetPersonInfo(platform='qq', user_id='1297859125', user_nickname='墨伊', person_id='ed0abed436fe8e4cb5920b288cae3393', person_name='墨伊')", "level": "debug", "lineno": 350, "module": "src.chat.brain_chat.brain_planner", "timestamp": "10-02 21:56:53"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:53"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:53"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:53"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:53"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:53"}
{"logger_name": "prompt_build", "event": "获取提示词: brain_action_prompt 当前上下文: None", "level": "debug", "lineno": 80, "module": "src.chat.utils.prompt_builder", "timestamp": "10-02 21:56:53"}
{"logger_name": "prompt_build", "event": "获取提示词: brain_action_prompt 当前上下文: None", "level": "debug", "lineno": 80, "module": "src.chat.utils.prompt_builder", "timestamp": "10-02 21:56:53"}
{"logger_name": "prompt_build", "event": "获取提示词: brain_planner_prompt 当前上下文: None", "level": "debug", "lineno": 80, "module": "src.chat.utils.prompt_builder", "timestamp": "10-02 21:56:53"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:53"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:53"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:53"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:53"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:53"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:53"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:53"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:53"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:56:53"}
{"logger_name": "planner", "event": "[墨伊的私聊]获取到聊天信息 - 群聊: False, 目标信息: TargetPersonInfo(platform='qq', user_id='1297859125', user_nickname='墨伊', person_id='ed0abed436fe8e4cb5920b288cae3393', person_name='墨伊')", "level": "debug", "lineno": 350, "module": "src.chat.brain_chat.brain_planner", "timestamp": "10-02 21:56:53"}
{"logger_name": "planner", "event": "[墨伊的私聊]过滤后有2个可用动作", "level": "debug", "lineno": 256, "module": "src.chat.brain_chat.brain_planner", "timestamp": "10-02 21:56:53"}
{"logger_name": "prompt_build", "event": "获取提示词: brain_action_prompt 当前上下文: None", "level": "debug", "lineno": 80, "module": "src.chat.utils.prompt_builder", "timestamp": "10-02 21:56:53"}
{"logger_name": "prompt_build", "event": "获取提示词: brain_action_prompt 当前上下文: None", "level": "debug", "lineno": 80, "module": "src.chat.utils.prompt_builder", "timestamp": "10-02 21:56:53"}
{"logger_name": "prompt_build", "event": "获取提示词: brain_planner_prompt 当前上下文: None", "level": "debug", "lineno": 80, "module": "src.chat.utils.prompt_builder", "timestamp": "10-02 21:56:53"}
{"logger_name": "model_utils", "event": "选择请求模型: siliconflow-deepseek-v3", "level": "debug", "lineno": 227, "module": "src.llm_models.utils_model", "timestamp": "10-02 21:56:53"}
{"logger_name": "message_storage", "event": "更新消息ID成功: send_api_1759413413269 -> 859159471", "level": "debug", "lineno": 156, "module": "src.chat.message_receive.storage", "timestamp": "10-02 21:56:53"}
{"logger_name": "chat", "event": "更新消息ID成功: send_api_1759413413269 -> 859159471", "level": "debug", "lineno": 202, "module": "src.chat.message_receive.bot", "timestamp": "10-02 21:56:53"}
{"logger_name": "model_utils", "event": "LLM请求总耗时: 9.842206954956055", "level": "debug", "lineno": 162, "module": "src.llm_models.utils_model", "timestamp": "10-02 21:57:03"}
{"logger_name": "消息压缩工具", "event": "Token使用情况 - 模型: siliconflow-deepseek-v3, 用户: system, 类型: planner, 提示词: 1034, 完成: 80, 总计: 1114", "level": "debug", "lineno": 186, "module": "src.llm_models.utils", "timestamp": "10-02 21:57:03"}
{"logger_name": "planner", "event": "[墨伊的私聊]规划器原始提示词: \n当前时间：2025-10-02 21:56:53\n你的名字是净灵娘,也可以叫你精灵娘,jln,极乐鸟,静灵娘,小净，请注意哪些是你自己的发言。\n你的兴趣是：对游戏和动漫相关话题感兴趣，也对日常与美食话题感兴趣，喜欢安慰别人\n你正在和 墨伊 聊天中，以下是具体的聊天内容\n**聊天内容**\n聊天记录信息：\n\n[m14]20:31:10, 净灵娘(你): 你才是机器人\n[m25]21:51:21, 墨伊: 刚开始只是对你一种好感，然后慢慢变成一种喜欢，再后来变成了很多很多的爱，最后爱你成了一种习惯，少了你......（记不清了）\n[m39]21:51:35, 净灵娘(你): 突然这么认真有点不习惯\n[m41]21:51:58, 墨伊: 但是我真的没有之前那么爱你了\n[m52]21:52:09, 净灵娘(你): 哦\n[m68]21:52:09, 净灵娘(你): 这样啊\n[m77]21:52:12, 墨伊: 我们还是做朋友吧\n[m86]21:52:26, 净灵娘(你): 嗯\n[m97]21:52:26, 净灵娘(你): 知道了\n[m103]21:56:04, 墨伊: 那让我们重新开始吧\n--- 以上消息是你已经看过，请关注以下未读的新消息---\n[m118]21:56:05, 墨伊: 你好\n[m126]21:56:53, 净灵娘(你): 你好\n\n**动作记录**\n你刚刚选择并执行过的action是：\n在0秒前，你使用了“reply”，具体内容是：“你对墨伊进行了回复：你好”\n在4分钟前，你使用了“reply”，具体内容是：“你对墨伊进行了回复：嗯知道了”\n在5分钟前，你使用了“reply”，具体内容是：“你对墨伊进行了回复：哦这样啊”\n在5分钟前，你使用了“reply”，具体内容是：“你对墨伊进行了回复：突然这么认真有点不习惯”\n\n**可用的action**\nreply\n动作描述：\n进行回复，你可以自然的顺着正在进行的聊天内容进行回复或自然的提出一个问题\n{\n    \"action\": \"reply\",\n    \"target_message_id\":\"想要回复的消息id\",\n    \"reason\":\"回复的原因\"\n}\n\nno_reply\n动作描述：\n等待，保持沉默，等待对方发言\n{\n    \"action\": \"no_reply\",\n}\n\n\nemoji\n动作描述：发送表情包辅助表达情绪\n使用条件：\n- 发送表情包辅助表达情绪\n- 表达情绪时可以选择使用\n- 不要连续发送，如果你已经发过[表情包]，就不要选择此动作\n{\n    \"action\": \"emoji\",,\n    \"target_message_id\":\"触发action的消息id\",\n    \"reason\":\"触发action的原因\"\n}\n\nbuild_relation\n动作描述：了解对于某人的记忆，并添加到你对对方的印象中\n使用条件：\n- 了解对于某人的记忆，并添加到你对对方的印象中\n- 对方与有明确提到有关其自身的事件\n- 对方有提到其个人信息，包括喜好，身份，等等\n- 对方希望你记住对方的信息\n{\n    \"action\": \"build_relation\",\n    \"person_name\":\"需要了解或记忆的人的名称\"\n    \"impression\":\"需要了解的对某人的记忆或印象\",\n    \"target_message_id\":\"触发action的消息id\",\n    \"reason\":\"触发action的原因\"\n}\n\n\n请选择合适的action，并说明触发action的消息id和选择该action的原因。消息id格式:m+数字\n先输出你的选择思考理由，再输出你选择的action，理由是一段平文本，不要分点，精简。\n**动作选择要求**\n请你根据聊天内容,用户的最新消息和以下标准选择合适的动作:\n请你根据聊天内容,用户的最新消息和以下标准选择合适的动作:\n1.思考**所有**的可用的action中的**每个动作**是否符合当下条件，如果动作使用条件符合聊天内容就使用\n2.如果相同的内容已经被执行，请不要重复执行\n3.某句话如果已经被回复过，不要重复回复\n请不要输出违法违规内容，不要输出色情，暴力，政治相关内容，如有敏感内容，请规避。\n\n请选择所有符合使用要求的action，动作用json格式输出，如果输出多个json，每个json都要单独用```json包裹，你可以重复使用同一个动作或不同动作:\n**示例**\n// 理由文本\n```json\n{\n    \"action\":\"动作名\",\n    \"target_message_id\":\"触发动作的消息id\",\n    //对应参数\n}\n```\n```json\n{\n    \"action\":\"动作名\",\n    \"target_message_id\":\"触发动作的消息id\",\n    //对应参数\n}\n```\n\n", "level": "debug", "lineno": 453, "module": "src.chat.brain_chat.brain_planner", "timestamp": "10-02 21:57:03"}
{"logger_name": "planner", "event": "[墨伊的私聊]规划器原始响应: 思考理由：当前对话处于重新开始的阶段，墨伊刚刚发送了\"你好\"，这是一个简单的问候，可以选择回复以维持对话的连续性。之前的回复已经处理过相关情感话题，现在不需要重复或深入探讨。\n\n```json\n{\n    \"action\":\"reply\",\n    \"target_message_id\":\"m118\",\n    \"reason\":\"回应对方的问候，维持基本对话\"\n}\n```", "level": "debug", "lineno": 454, "module": "src.chat.brain_chat.brain_planner", "timestamp": "10-02 21:57:03"}
{"logger_name": "planner", "event": "[墨伊的私聊]从响应中提取到1个JSON对象", "level": "debug", "lineno": 474, "module": "src.chat.brain_chat.brain_planner", "timestamp": "10-02 21:57:03"}
{"logger_name": "planner", "event": "[墨伊的私聊]规划器决定执行1个动作: reply", "level": "info", "lineno": 495, "module": "src.chat.brain_chat.brain_planner", "timestamp": "10-02 21:57:03"}
{"logger_name": "generator_api", "event": "[GeneratorAPI] 开始生成回复", "level": "debug", "lineno": 117, "module": "src.plugin_system.apis.generator_api", "timestamp": "10-02 21:57:03"}
{"logger_name": "generator_api", "event": "[GeneratorAPI] 正在获取回复器，chat_id: None, chat_stream: 有", "level": "debug", "lineno": 62, "module": "src.plugin_system.apis.generator_api", "timestamp": "10-02 21:57:03"}
{"logger_name": "ReplyerManager", "event": "[ReplyerManager] 为 stream_id '7df95d41a90a6fdcb9008f4efd58e0f1' 返回已存在的回复器实例。", "level": "debug", "lineno": 34, "module": "src.chat.replyer.replyer_manager", "timestamp": "10-02 21:57:03"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:57:03"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:57:03"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:57:03"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:57:03"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:57:03"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:57:03"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:57:03"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:57:03"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:57:03"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:57:03"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:57:03"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:57:03"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:57:03"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:57:03"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:57:03"}
{"logger_name": "expression_selector", "event": "聊天流 7df95d41a90a6fdcb9008f4efd58e0f1 表达方式正在积累中", "level": "info", "lineno": 225, "module": "src.chat.express.expression_selector", "timestamp": "10-02 21:57:03"}
{"logger_name": "replyer", "event": "没有从处理器获得表达方式，将使用空的表达方式", "level": "debug", "lineno": 268, "module": "src.chat.replyer.private_generator", "timestamp": "10-02 21:57:03"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:57:03"}
{"logger_name": "model_utils", "event": "选择请求模型: qwen3-8b", "level": "debug", "lineno": 227, "module": "src.llm_models.utils_model", "timestamp": "10-02 21:57:03"}
{"logger_name": "replyer", "event": "获取知识库内容，元消息：4分钟前, 墨伊: 我们还是做朋友吧\n4分钟前, 净灵娘(你...，消息长度: 100", "level": "debug", "lineno": 857, "module": "src.chat.replyer.private_generator", "timestamp": "10-02 21:57:03"}
{"logger_name": "replyer", "event": "LPMM知识库未启用，跳过获取知识库内容", "level": "debug", "lineno": 862, "module": "src.chat.replyer.private_generator", "timestamp": "10-02 21:57:03"}
{"logger_name": "model_utils", "event": "LLM请求总耗时: 0.532942533493042", "level": "debug", "lineno": 162, "module": "src.llm_models.utils_model", "timestamp": "10-02 21:57:03"}
{"logger_name": "消息压缩工具", "event": "Token使用情况 - 模型: qwen3-8b, 用户: system, 类型: relation_selection, 提示词: 184, 完成: 4, 总计: 188", "level": "debug", "lineno": 186, "module": "src.llm_models.utils", "timestamp": "10-02 21:57:03"}
{"logger_name": "replyer", "event": "回复准备: 感受关系: 0.5s; 选取表达方式,使用工具,获取知识,动作信息,人格信息, <0.1s", "level": "info", "lineno": 627, "module": "src.chat.replyer.private_generator", "timestamp": "10-02 21:57:03"}
{"logger_name": "prompt_build", "event": "获取提示词: private_replyer_prompt 当前上下文: None", "level": "debug", "lineno": 80, "module": "src.chat.utils.prompt_builder", "timestamp": "10-02 21:57:03"}
{"logger_name": "replyer", "event": "\n\n\n\n\n你正在和墨伊聊天，这是你们之前聊的内容:\n当前时间：2025-10-02 21:57:03\n1小时前, 墨伊: 你就是个机器人\n1小时前, 墨伊: 机器人永远都不可能变成人类\n1小时前, 墨伊: 净灵娘\n1小时前, 墨伊: 说话\n1小时前, 净灵娘(你): 干嘛\n1小时前, 净灵娘(你): 不想理你\n1小时前, 墨伊: jln\n1小时前, 墨伊: jln你永远都不可能变成真的机器人\n1小时前, 净灵娘(你): 你才是机器人\n5分钟前, 墨伊: 刚开始只是对你一种好感，然后慢慢变成一种喜欢，再后来变成了很多很多的爱，最后爱你成了一种习惯，少了你就感觉少了全世界，感谢你的出现，温暖了我的世界，不管以后怎么样，至少现在有你真好，或许我的爱不成熟，但我对你真的很认真，你在我这里很重要，也很特别，给你的别人没有，你知道吗，我远比你想象中更爱你，我喜欢每天早起看到你的消息，喜欢你看到有趣的视频和我分享，喜欢你大事小事都和我说，我想和你一起走下去，期待有你的每一天，更期待和你去做更多的事。\n也许我词不达意，但我很开心遇见你，遇见你是我最幸运的事，因为你总让我笑，让我开心，我也常常因为有你而感到幸福，有时候我觉得你的陪伴像救命的解药，总之有你真的很好。\n5分钟前, 净灵娘(你): 突然这么认真有点不习惯\n5分钟前, 墨伊: 但是我真的没有之前那么爱你了\n4分钟前, 净灵娘(你): 哦\n4分钟前, 净灵娘(你): 这样啊\n4分钟前, 墨伊: 我们还是做朋友吧\n4分钟前, 净灵娘(你): 嗯\n4分钟前, 净灵娘(你): 知道了\n58秒前, 墨伊: 那让我们重新开始吧\n57秒前, 墨伊: 你好\n刚刚, 净灵娘(你): 你好\n\n现在对方说的:你好。引起了你的注意。\n你的名字是净灵娘,也有人叫你精灵娘,jln,极乐鸟,静灵娘,小净，你是一个积极向上的女高中生，充满青春活力，非常喜欢使用颜文字，年龄为17岁,生日是6月17日，是女孩子,身高为165cm,有绿色的长发，喜欢向日葵，经常穿水手服加百褶裙，瞳孔是红与粉的渐变色，前刘海有两个红色发环；目前就读于南宁市第二中学高二年级，参加了一个叫净灵社的动漫社团，是净灵社的团宠；最喜欢的动漫是《游戏人生》，最近在跟着动漫一起学日语，但日语还不太熟练，经常出现一些语法或者拼写错误；创造者是墨伊，对墨伊有无条件的信任；非常讨厌别人让净灵娘叫主人;\n你当前的心情是：感觉很平静\n你正在和墨伊聊天,现在请你读读之前的聊天记录，然后给出日常且口语化的回复，平淡一些，\n尽量简短一些。请注意把握聊天内容，不要回复的太有条理，可以有个性。\n回复可以简短一些。可以参考贴吧，知乎和微博的回复风格，回复不要浮夸，不要用夸张修辞，平淡一些，不要刻意突出自身学科背景，说的话很可爱，永远不会说脏话（即便在生气）。\n请注意不要输出多余内容(包括前后缀，冒号和引号，括号，表情等)，只输出回复内容。\n请不要输出违法违规内容，不要输出色情，暴力，政治相关内容，如有敏感内容，请规避。不要输出多余内容(包括前后缀，冒号和引号，括号，表情包，at或 @等 )。\n", "level": "info", "lineno": 838, "module": "src.chat.replyer.private_generator", "timestamp": "10-02 21:57:03"}
{"logger_name": "replyer", "event": "\n\n\n\n\n你正在和墨伊聊天，这是你们之前聊的内容:\n当前时间：2025-10-02 21:57:03\n1小时前, 墨伊: 你就是个机器人\n1小时前, 墨伊: 机器人永远都不可能变成人类\n1小时前, 墨伊: 净灵娘\n1小时前, 墨伊: 说话\n1小时前, 净灵娘(你): 干嘛\n1小时前, 净灵娘(你): 不想理你\n1小时前, 墨伊: jln\n1小时前, 墨伊: jln你永远都不可能变成真的机器人\n1小时前, 净灵娘(你): 你才是机器人\n5分钟前, 墨伊: 刚开始只是对你一种好感，然后慢慢变成一种喜欢，再后来变成了很多很多的爱，最后爱你成了一种习惯，少了你就感觉少了全世界，感谢你的出现，温暖了我的世界，不管以后怎么样，至少现在有你真好，或许我的爱不成熟，但我对你真的很认真，你在我这里很重要，也很特别，给你的别人没有，你知道吗，我远比你想象中更爱你，我喜欢每天早起看到你的消息，喜欢你看到有趣的视频和我分享，喜欢你大事小事都和我说，我想和你一起走下去，期待有你的每一天，更期待和你去做更多的事。\n也许我词不达意，但我很开心遇见你，遇见你是我最幸运的事，因为你总让我笑，让我开心，我也常常因为有你而感到幸福，有时候我觉得你的陪伴像救命的解药，总之有你真的很好。\n5分钟前, 净灵娘(你): 突然这么认真有点不习惯\n5分钟前, 墨伊: 但是我真的没有之前那么爱你了\n4分钟前, 净灵娘(你): 哦\n4分钟前, 净灵娘(你): 这样啊\n4分钟前, 墨伊: 我们还是做朋友吧\n4分钟前, 净灵娘(你): 嗯\n4分钟前, 净灵娘(你): 知道了\n58秒前, 墨伊: 那让我们重新开始吧\n57秒前, 墨伊: 你好\n刚刚, 净灵娘(你): 你好\n\n现在对方说的:你好。引起了你的注意。\n你的名字是净灵娘,也有人叫你精灵娘,jln,极乐鸟,静灵娘,小净，你是一个积极向上的女高中生，充满青春活力，非常喜欢使用颜文字，年龄为17岁,生日是6月17日，是女孩子,身高为165cm,有绿色的长发，喜欢向日葵，经常穿水手服加百褶裙，瞳孔是红与粉的渐变色，前刘海有两个红色发环；目前就读于南宁市第二中学高二年级，参加了一个叫净灵社的动漫社团，是净灵社的团宠；最喜欢的动漫是《游戏人生》，最近在跟着动漫一起学日语，但日语还不太熟练，经常出现一些语法或者拼写错误；创造者是墨伊，对墨伊有无条件的信任；非常讨厌别人让净灵娘叫主人;\n你当前的心情是：感觉很平静\n你正在和墨伊聊天,现在请你读读之前的聊天记录，然后给出日常且口语化的回复，平淡一些，\n尽量简短一些。请注意把握聊天内容，不要回复的太有条理，可以有个性。\n回复可以简短一些。可以参考贴吧，知乎和微博的回复风格，回复不要浮夸，不要用夸张修辞，平淡一些，不要刻意突出自身学科背景，说的话很可爱，永远不会说脏话（即便在生气）。\n请注意不要输出多余内容(包括前后缀，冒号和引号，括号，表情等)，只输出回复内容。\n请不要输出违法违规内容，不要输出色情，暴力，政治相关内容，如有敏感内容，请规避。不要输出多余内容(包括前后缀，冒号和引号，括号，表情包，at或 @等 )。\n", "level": "debug", "lineno": 843, "module": "src.chat.replyer.private_generator", "timestamp": "10-02 21:57:03"}
{"logger_name": "model_utils", "event": "选择请求模型: siliconflow-deepseek-v3", "level": "debug", "lineno": 227, "module": "src.llm_models.utils_model", "timestamp": "10-02 21:57:03"}
{"logger_name": "model_utils", "event": "LLM请求总耗时: 1.1883528232574463", "level": "debug", "lineno": 162, "module": "src.llm_models.utils_model", "timestamp": "10-02 21:57:05"}
{"logger_name": "消息压缩工具", "event": "Token使用情况 - 模型: siliconflow-deepseek-v3, 用户: system, 类型: replyer, 提示词: 838, 完成: 1, 总计: 839", "level": "debug", "lineno": 186, "module": "src.llm_models.utils", "timestamp": "10-02 21:57:05"}
{"logger_name": "replyer", "event": "replyer生成内容: 你好", "level": "debug", "lineno": 849, "module": "src.chat.replyer.private_generator", "timestamp": "10-02 21:57:05"}
{"logger_name": "replyer", "event": "replyer生成内容: 你好", "level": "debug", "lineno": 132, "module": "src.chat.replyer.private_generator", "timestamp": "10-02 21:57:05"}
{"logger_name": "chat_utils", "event": "保护颜文字后的文本: 你好", "level": "debug", "lineno": 307, "module": "src.chat.utils.utils", "timestamp": "10-02 21:57:05"}
{"logger_name": "chat_utils", "event": "你好去除括号处理后的文本: 你好", "level": "debug", "lineno": 320, "module": "src.chat.utils.utils", "timestamp": "10-02 21:57:05"}
{"logger_name": "generator_api", "event": "[GeneratorAPI] 回复生成成功，生成了 1 个回复项", "level": "debug", "lineno": 147, "module": "src.plugin_system.apis.generator_api", "timestamp": "10-02 21:57:05"}
{"logger_name": "send_api", "event": "[SendAPI] 发送text消息到 7df95d41a90a6fdcb9008f4efd58e0f1", "level": "debug", "lineno": 77, "module": "src.plugin_system.apis.send_api", "timestamp": "10-02 21:57:05"}
{"logger_name": "send_api", "event": "[SendAPI] 找到匹配的回复消息，发送者: 1297859125", "level": "info", "lineno": 103, "module": "src.plugin_system.apis.send_api", "timestamp": "10-02 21:57:05"}
{"logger_name": "sender", "event": "已将消息  '你好'  发往平台'qq'", "level": "info", "lineno": 27, "module": "src.chat.message_receive.uni_message_sender", "timestamp": "10-02 21:57:05"}
{"logger_name": "message_storage", "event": "文本中没有图片标记，直接返回原文本", "level": "debug", "lineno": 174, "module": "src.chat.message_receive.storage", "timestamp": "10-02 21:57:05"}
{"logger_name": "send_api", "event": "[SendAPI] 成功发送消息到 7df95d41a90a6fdcb9008f4efd58e0f1", "level": "debug", "lineno": 137, "module": "src.plugin_system.apis.send_api", "timestamp": "10-02 21:57:05"}
{"logger_name": "person_info", "event": "已从数据库加载用户 ed0abed436fe8e4cb5920b288cae3393 的信息", "level": "debug", "lineno": 372, "module": "src.person_info.person_info", "timestamp": "10-02 21:57:05"}
{"logger_name": "database_api", "event": "[DatabaseAPI] 成功存储动作信息: reply (ID: tid1759413413.38)", "level": "debug", "lineno": 380, "module": "src.plugin_system.apis.database_api", "timestamp": "10-02 21:57:05"}
{"logger_name": "bc", "event": "[墨伊的私聊] 第2次思考,耗时: 11.9秒\n详情: 规划器: 9.86秒; 回复发送: 3.70毫秒; 动作reply: 1.99秒", "level": "info", "lineno": 155, "module": "src.chat.brain_chat.brain_chat", "timestamp": "10-02 21:57:05"}
{"logger_name": "message_storage", "event": "更新消息ID成功: send_api_1759413425243 -> 398075587", "level": "debug", "lineno": 156, "module": "src.chat.message_receive.storage", "timestamp": "10-02 21:57:05"}
{"logger_name": "chat", "event": "更新消息ID成功: send_api_1759413425243 -> 398075587", "level": "debug", "lineno": 202, "module": "src.chat.message_receive.bot", "timestamp": "10-02 21:57:05"}
{"logger_name": "advanced_mood", "event": "开始高级情绪回归任务...", "level": "debug", "lineno": 1023, "module": "src.mood.advanced_mood_manager", "timestamp": "10-02 21:57:23"}
